require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["page_chat/TUI-Chat/chat"],{"0bd8":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("6a9e")),i=(getApp(),{components:{TUIMessageList:function(){n.e("page_chat/components/tui-chat/message-list/index").then(function(){return resolve(n("a585"))}.bind(null,n)).catch(n.oe)},TUIMessageInput:function(){n.e("page_chat/components/tui-chat/message-input/index").then(function(){return resolve(n("b8ff"))}.bind(null,n)).catch(n.oe)},TUIGroupProfile:function(){n.e("page_chat/components/tui-group/group-profile/index").then(function(){return resolve(n("9e3f"))}.bind(null,n)).catch(n.oe)}},props:{},data:function(){return{conversationName:"",conversation:{},messageList:[],isShow:!1,showChat:!0,conversationID:"",videoPlay:!1,videoMessage:{},pageHeight:"",config:{sdkAppID:"",userID:"",userSig:"",type:1,tim:null}}},created:function(){var t=this;e.$on("videoPlayerHandler",(function(e){t.videoPlay=e.isPlay,t.videoMessage=e.message})),this.pageHeight=e.getWindowInfo().windowHeight+"px"},onLoad:function(t){var n=this;a.default.log(" TUI-chat | onLoad | conversationID: ".concat(t.conversationID));var o=t.conversationID;this.setData({conversationID:o}),e.$TUIKit.setMessageRead({conversationID:o}).then((function(){a.default.log("TUI-chat | setMessageRead  | ok")})),e.$TUIKit.getConversationProfile(o).then((function(e){var t=e.data.conversation;n.conversation=t,n.setData({conversationName:n.getConversationName(t),isShow:"GROUP"===t.type})}))},mounted:function(){},onUnload:function(){},methods:{changePageHeightVal:function(e){this.pageHeight=e,this.$refs.messageList.scrollToButtom()},stopVideoHander:function(){this.videoPlay=!1},getConversationName:function(e){return"@TIM#SYSTEM"===e.type?(this.setData({showChat:!1}),"系统通知"):"C2C"===e.type?e.remark||e.userProfile.nick||e.userProfile.userID:"GROUP"===e.type?e.groupProfile.name||e.groupProfile.groupID:void 0},sendMessage:function(e){this.$refs.messageList.updateMessageList(e.detail.message)},triggerClose:function(){this.showChat&&this.$refs.messageInput.handleClose()},goBack:function(){e.navigateBack({delta:1}),e.$TUIKit.setMessageRead({conversationID:this.conversationID}).then((function(){}))}}});t.default=i}).call(this,n("543d")["default"])},"208f":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("cf82"),n("a9ff");o(n("66fd"));var a=o(n("df62"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"38c9":function(e,t,n){"use strict";var o=n("7e65"),a=n.n(o);a.a},"7e65":function(e,t,n){},"97f3":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement;this._self._c},a=[]},df62:function(e,t,n){"use strict";n.r(t);var o=n("97f3"),a=n("e2b1");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("38c9");var s=n("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=c.exports},e2b1:function(e,t,n){"use strict";n.r(t);var o=n("0bd8"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a}},[["208f","common/runtime","common/vendor"]]]);