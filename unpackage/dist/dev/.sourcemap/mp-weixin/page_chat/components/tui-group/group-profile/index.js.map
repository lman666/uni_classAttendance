{"version":3,"sources":["webpack:///E:/HBuilderProjects/uni_classAttendance05/page_chat/components/tui-group/group-profile/index.vue?a3d2","webpack:///E:/HBuilderProjects/uni_classAttendance05/page_chat/components/tui-group/group-profile/index.vue?31ff","webpack:///E:/HBuilderProjects/uni_classAttendance05/page_chat/components/tui-group/group-profile/index.vue?e1c8","webpack:///E:/HBuilderProjects/uni_classAttendance05/page_chat/components/tui-group/group-profile/index.vue?6f92","uni-app:///page_chat/components/tui-group/group-profile/index.vue","webpack:///E:/HBuilderProjects/uni_classAttendance05/page_chat/components/tui-group/group-profile/index.vue?63d9"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","userID","newgroup","groupmemberprofile","groupmemberavatar","groupmembernick","hidden","notShow","isShow","showMore","addShow","popupToggle","quitpopupToggle","addpopupToggle","props","conversation","type","watch","handler","immediate","deep","beforeMount","methods","showMoreHandler","uni","getGroupMemberList","groupID","count","offset","then","logger","showless","showMoreMember","close","quitGroup","quitgroupConfirm","console","delta","catch","title","icon","quitgroupAbandon","addMember","binduserIDInput","submit","addGroupMember","userIDList","duration","handleEditToggle","getgroupProfile"],"mappings":"mJAAA,oIACIA,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yDACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAAgpB,eAAG,G,2HCiFnpB,e,EAEA,CACAC,gBACA,OACAC,UAEAC,YACAC,sBACAC,qBACAC,mBACAC,UACAC,WACAC,UACAC,YACAC,WACAC,eACAC,mBACAC,oBAIAxB,cACAyB,OACAC,cACAC,cAGAC,OACAF,cACAG,oBACA,OACA,cACAH,kBAGAI,aACAC,UAIAC,yBAEAC,SACAC,2BAAA,WACAC,UACAC,oBACAC,+CACAC,SACAC,WAEAC,kBACAC,0HAEA,8CACA,WACApB,aAIA,4BACA,WACAD,cAIA,WACAN,qCACAG,iBACAC,mBACAC,uBAKAuB,oBACA,cACAvB,UACAD,WACAD,aAIA0B,0BACA,cACArB,kBAIAsB,iBACA,cACAtB,eACAE,kBACAD,sBAIAsB,qBACA,cACAtB,mBACAD,kBAIAwB,4BACAX,UACAU,kDACAL,kBACAO,4BAEAZ,gBACAa,aAGAC,mBACAd,aACAe,oBACAC,cAEAJ,uCAIAK,4BACAL,mBACA,cACAxB,sBAIA8B,qBACA,cACA7B,qBAIA8B,4BACA,qBACA,cACA1C,YAIA2C,kBAAA,WACAR,yBACAZ,UACAqB,gBACAnB,+CACAoB,2BAEAjB,kBACA,oCACAL,aACAe,aACAQ,eAEA,YACA,2BACA,WACAlC,qBAIA,mCACAW,aACAe,gBACAQ,aACAP,iBAIAF,mBACAF,wCAEAZ,aACAe,sBACAQ,aACAP,kBAKAQ,4BACAZ,2CAGAa,2BACAb,4CAGA,c,6DC/QA,yHAA+6B,eAAG,G","file":"page_chat/components/tui-group/group-profile/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=27dc4785&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"page_chat/components/tui-group/group-profile/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=27dc4785&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"group-information-box\" @show=\"getgroupProfile\">\r\n\t\t\t<view class=\"group-box\">\r\n\t\t\t\t<text class=\"group-ID\">群ID:{{ conversation.groupProfile.groupID }}</text>\r\n\t\t\t\t<view @tap=\"showMoreHandler\">\r\n\t\t\t\t\t<text class=\"group-member\">聊天成员:{{ conversation.groupProfile.memberCount }}人</text>\r\n\t\t\t\t\t<image v-if=\"notShow\" class=\" icon-right\" src=\"/static/static/assets/down.svg\"></image>\r\n\t\t\t\t\t<image v-if=\"isShow\" class=\" icon-right\" src=\"/static/static/assets/up.svg\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"!hidden\" class=\"showdetail\">\r\n\t\t\t\t<view v-for=\"(item, index) in groupmemberprofile\" :key=\"index\" class=\"box\" v-if=\"index < 3\" :data-value=\"item\">\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"profile-box\"\r\n\t\t\t\t\t\t:src=\"item.avatar || 'https://sdk-web-1252463788.cos.ap-hongkong.myqcloud.com/component/TUIKit/assets/avatar_21.png'\"\r\n\t\t\t\t\t></image>\r\n\t\t\t\t\t<text class=\"nick-box\">{{ item.nick || item.userID }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"box\" v-if=\"showMore\">\r\n\t\t\t\t\t<image class=\"profile-box\" src=\"/static/static/assets/show.svg\" @tap=\"showMoreMember\"></image>\r\n\t\t\t\t\t<text class=\"nick-box\">更多</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left-box\">\r\n\t\t\t\t\t<view class=\"box-group\" v-if=\"addShow\">\r\n\t\t\t\t\t\t<image class=\"addmember\" src=\"/static/static/assets/addgroup.svg\" @tap=\"addMember\"></image>\r\n\t\t\t\t\t\t<text class=\"addmember-text\">添加成员</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"box-group-quit\">\r\n\t\t\t\t\t\t<image class=\"quitgroup\" src=\"/static/static/assets/quitgroup.svg\" @tap.stop=\"quitGroup\"></image>\r\n\t\t\t\t\t\t<text class=\"quitgroup-text\">退出群聊</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pop-container\">\r\n\t\t\t<view class=\"popup-mask\" v-if=\"popupToggle\" @tap.stop=\"handleEditToggle\">\r\n\t\t\t\t<view class=\"pop-main\">\r\n\t\t\t\t\t<view class=\"pop-main-header\">\r\n\t\t\t\t\t\t<text class=\"group-member-text\">群成员</text>\r\n\t\t\t\t\t\t<text class=\"close\" @tap.stop=\"close\">关闭</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"image-list\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in groupmemberprofile\" :key=\"index\" class=\"image-nick-box\" :data-value=\"item\">\r\n\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\tclass=\"image-box\"\r\n\t\t\t\t\t\t\t\t:src=\"item.avatar || 'https://sdk-web-1252463788.cos.ap-hongkong.myqcloud.com/component/TUIKit/assets/avatar_21.png'\"\r\n\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t<text class=\"groupmembername\">{{ item.nick || item.userID }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pop-container\">\r\n\t\t\t<view class=\"quitpop-mask\" v-if=\"quitpopupToggle\">\r\n\t\t\t\t<view class=\"quitpop\">\r\n\t\t\t\t\t<view class=\" quit-box\">\r\n\t\t\t\t\t\t<view class=\"text-box\"><text class=\"confirmQuitgroup-text\">退出群聊后会同步删除历史聊天记录，是否要退出群聊？</text></view>\r\n\t\t\t\t\t\t<view class=\"text-box-qiut\" @tap.stop=\"quitgroupConfirm\"><text class=\"quitgroup-confirm\">退出</text></view>\r\n\t\t\t\t\t\t<view class=\"text-box-cancle\" @tap=\"quitgroupAbandon\"><text class=\"quitgroup-abandon\">取消</text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"mask\" v-if=\"addpopupToggle\">\r\n\t\t\t<view class=\"popup\">\r\n\t\t\t\t<view class=\"popup-main\">\r\n\t\t\t\t\t<text>添加群成员</text>\r\n\t\t\t\t\t<input class=\"input-box\" type=\"number\" placeholder=\"请输入userID\" @input=\"binduserIDInput\" placeholder-style=\"color:#BBBBBB;\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"popup-footer\">\r\n\t\t\t\t\t<button class=\" popup-footer-button submit\" @tap.stop=\"submit\">确认</button>\r\n\t\t\t\t\t<button class=\"popup-footer-button cancel\" @tap.stop=\"close\">取消</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport logger from '@/utils/logger.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserID: '',\r\n\t\t\t// conversation: {},\r\n\t\t\tnewgroup: {},\r\n\t\t\tgroupmemberprofile: {},\r\n\t\t\tgroupmemberavatar: [],\r\n\t\t\tgroupmembernick: [],\r\n\t\t\thidden: true,\r\n\t\t\tnotShow: true,\r\n\t\t\tisShow: false,\r\n\t\t\tshowMore: false,\r\n\t\t\taddShow: false,\r\n\t\t\tpopupToggle: false,\r\n\t\t\tquitpopupToggle: false,\r\n\t\t\taddpopupToggle: false\r\n\t\t};\r\n\t},\r\n\r\n\tcomponents: {},\r\n\tprops: {\r\n\t\tconversation: {\r\n\t\t\ttype: Object\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tconversation: {\r\n\t\t\thandler: function(newVal) {\r\n\t\t\t\tif (newVal.type === 'GROUP');\r\n\t\t\t\tthis.setData({\r\n\t\t\t\t\tconversation: newVal\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\timmediate: true,\r\n\t\t\tdeep: true\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeMount() {},\r\n\r\n\tmethods: {\r\n\t\tshowMoreHandler() {\r\n\t\t\tuni.$TUIKit\r\n\t\t\t\t.getGroupMemberList({\r\n\t\t\t\t\tgroupID: this.conversation.groupProfile.groupID,\r\n\t\t\t\t\tcount: 50,\r\n\t\t\t\t\toffset: 0\r\n\t\t\t\t}) // 从0开始拉取30个群成员\r\n\t\t\t\t.then(imResponse => {\r\n\t\t\t\t\tlogger.log(`| TUI-group-profile | getGroupMemberList  | getGroupMemberList-length: ${imResponse.data.memberList.length}`);\r\n\r\n\t\t\t\t\tif (this.conversation.groupProfile.type === 'Private') {\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\taddShow: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (imResponse.data.memberList.length > 3) {\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\tshowMore: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\tgroupmemberprofile: imResponse.data.memberList,\r\n\t\t\t\t\t\thidden: !this.hidden,\r\n\t\t\t\t\t\tnotShow: !this.notShow,\r\n\t\t\t\t\t\tisShow: !this.isShow\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tshowless() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tnotShow: true,\r\n\t\t\t\thidden: true\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tshowMoreMember() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tpopupToggle: true //  quitpopupToggle: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tclose() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tpopupToggle: false,\r\n\t\t\t\taddpopupToggle: false,\r\n\t\t\t\tquitpopupToggle: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tquitGroup() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tquitpopupToggle: true,\r\n\t\t\t\tpopupToggle: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tquitgroupConfirm() {\r\n\t\t\tuni.$TUIKit\r\n\t\t\t\t.quitGroup(this.conversation.groupProfile.groupID)\r\n\t\t\t\t.then(imResponse => {\r\n\t\t\t\t\tconsole.log(imResponse.data.groupID); // 退出成功的群 ID\r\n\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(imError => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '该群不允许群主主动退出',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.warn('quitGroup error:', imError); // 退出群组失败的相关信息\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tquitgroupAbandon() {\r\n\t\t\tconsole.log(22222);\r\n\t\t\tthis.setData({\r\n\t\t\t\tquitpopupToggle: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\taddMember() {\r\n\t\t\tthis.setData({\r\n\t\t\t\taddpopupToggle: true\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tbinduserIDInput(e) {\r\n\t\t\tconst id = e.detail.value;\r\n\t\t\tthis.setData({\r\n\t\t\t\tuserID: id\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tsubmit() {\r\n\t\t\tconsole.log(this.userID);\r\n\t\t\tuni.$TUIKit\r\n\t\t\t\t.addGroupMember({\r\n\t\t\t\t\tgroupID: this.conversation.groupProfile.groupID,\r\n\t\t\t\t\tuserIDList: [this.userID]\r\n\t\t\t\t})\r\n\t\t\t\t.then(imResponse => {\r\n\t\t\t\t\tif (imResponse.data.successUserIDList.length > 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '添加成功',\r\n\t\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.userID = '';\r\n\t\t\t\t\t\tthis.addMemberModalVisible = false;\r\n\t\t\t\t\t\tthis.setData({\r\n\t\t\t\t\t\t\taddpopupToggle: false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (imResponse.data.existedUserIDList.length > 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '该用户已在群中',\r\n\t\t\t\t\t\t\tduration: 800,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(imError => {\r\n\t\t\t\t\tconsole.warn('addGroupMember error:', imError); // 错误信息\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '添加失败，请确保该用户存在',\r\n\t\t\t\t\t\tduration: 800,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\thandleEditToggle() {\r\n\t\t\tconsole.log('占位：函数 handleEditToggle 未声明');\r\n\t\t},\r\n\r\n\t\tgetgroupProfile() {\r\n\t\t\tconsole.log('占位：函数 getgroupProfile 未声明');\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style>\r\n@import './index.css';\r\n</style>\r\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}