(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/TUI-Chat/chat"],{"5a68":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement;this._self._c},a=[]},"5ba7":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("6a9e")),i=(getApp(),{components:{TUIMessageList:function(){n.e("components/tui-chat/message-list/index").then(function(){return resolve(n("027b"))}.bind(null,n)).catch(n.oe)},TUIMessageInput:function(){n.e("components/tui-chat/message-input/index").then(function(){return resolve(n("5fce"))}.bind(null,n)).catch(n.oe)},TUIGroupProfile:function(){n.e("components/tui-group/group-profile/index").then(function(){return resolve(n("818c"))}.bind(null,n)).catch(n.oe)}},props:{},data:function(){return{conversationName:"",conversation:{},messageList:[],isShow:!1,showChat:!0,conversationID:"",videoPlay:!1,videoMessage:{},config:{sdkAppID:"",userID:"",userSig:"",type:1,tim:null}}},created:function(){var t=this;e.$on("videoPlayerHandler",(function(e){t.videoPlay=e.isPlay,t.videoMessage=e.message}))},onLoad:function(t){var n=this;a.default.log(" TUI-chat | onLoad | conversationID: ".concat(t.conversationID));var o=t.conversationID;this.setData({conversationID:o}),e.$TUIKit.setMessageRead({conversationID:o}).then((function(){a.default.log("TUI-chat | setMessageRead  | ok")})),e.$TUIKit.getConversationProfile(o).then((function(e){var t=e.data.conversation;n.conversation=t,n.setData({conversationName:n.getConversationName(t),isShow:"GROUP"===t.type})}))},mounted:function(){},onUnload:function(){},methods:{stopVideoHander:function(){this.videoPlay=!1},getConversationName:function(e){return"@TIM#SYSTEM"===e.type?(this.setData({showChat:!1}),"系统通知"):"C2C"===e.type?e.remark||e.userProfile.nick||e.userProfile.userID:"GROUP"===e.type?e.groupProfile.name||e.groupProfile.groupID:void 0},sendMessage:function(e){this.$refs.messageList.updateMessageList(e.detail.message)},triggerClose:function(){this.showChat&&this.$refs.messageInput.handleClose()},goBack:function(){var t=getCurrentPages();"pages/TUI-Conversation/create-conversation/create"===t[t.length-2].route||"pages/TUI-Group/create-group/create"===t[t.length-2].route||"pages/TUI-Group/join-group/join"===t[t.length-2].route?e.navigateBack({delta:2}):e.navigateBack({delta:1}),e.$TUIKit.setMessageRead({conversationID:this.conversationID}).then((function(){}))}}});t.default=i}).call(this,n("543d")["default"])},"5f24":function(e,t,n){"use strict";var o=n("ab9d"),a=n.n(o);a.a},7308:function(e,t,n){"use strict";n.r(t);var o=n("5a68"),a=n("ea15");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("5f24");var s=n("f0c5"),r=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=r.exports},"8e47":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("cf82"),n("a9ff");o(n("66fd"));var a=o(n("7308"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},ab9d:function(e,t,n){},ea15:function(e,t,n){"use strict";n.r(t);var o=n("5ba7"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a}},[["8e47","common/runtime","common/vendor"]]]);